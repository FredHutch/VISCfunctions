% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geometric_functions.R
\name{geomean}
\alias{geomean}
\alias{geomedian(),}
\alias{geoquantiles(),}
\alias{geosd()}
\alias{geoquantile}
\alias{geomedian}
\alias{geosd}
\title{Functions for Log-Scale Transformations - Geometric Mean, Geomethric Median, Geometric Standard Deviation and Geometric Quantiles}
\usage{
geomean(x, na.rm = TRUE, threshold = 1L, verbose = FALSE)

geoquantile(
  x,
  probs = c(0, 0.25, 0.5, 0.75, 1),
  type = 2,
  na.rm = TRUE,
  threshold = 1L,
  verbose = FALSE,
  ...
)

geomedian(x, na.rm = TRUE, threshold = 1L, verbose = FALSE)

geosd(x, na.rm = TRUE, threshold = 1L, verbose = FALSE)
}
\arguments{
\item{x}{Numeric vector. Vector must be longer than two elements.}

\item{na.rm}{Logical scalar indicating whether to remove missing values from 'x'. If 'na.rm = TRUE' (the default) missing values are removed from 'x' prior to computing the geometric mean. If 'na.rm = FALSE' and 'x' contains missing values, then a missing value ('NA') is returned.}

\item{threshold}{Positive scalar indicating a lower bound for 'x'. If 'threshold = NULL', no threshold will be set and the data will remain unaltered. If the threshold is set to any positive number (the default is 1) all values below the threshold will be converted to the value in 'threshold'. If 'threshold = NULL' and 'x' contains zero or negative values, then an error is returned.}

\item{probs}{(geoquantile only) Numeric vector of probabilities between 0 and 1 for specifying which quantiles should be returned.}

\item{type}{(geoquantile only) Integer scalar between 1 and 9 selecting one of the nine quantile algorithms. Default is type 2, the post-2010 SAS default, which uses the inverse of the empirical distribution function averaging at discontinuities.}

\item{...}{Additional arguments passed to functions}

\item{vebose}{Detailed description of the perils of setting a threshold less than one that appears if 'verbose = TRUE' and the 'threshold <1' and there are values less than 1 in 'x'.}
}
\value{
Returns a numeric scalar with sample geometric statistic for \code{\link[=geomean]{geomean()}}, \code{\link[=geomedian]{geomedian()}} and \code{\link[=geosd]{geosd()}}. Returns a numeric vector the length of 'probs' for \code{\link[=geoquantiles]{geoquantiles()}}
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}
Computes the sample geometric mean, standard deviation quantiles and median. These functions are more suitable "averages" than the arithmetic averages for data that is on a log (geometric) scale. There are four functions:
\itemize{
\item \code{geomean()} returns the geometric mean
\item \code{geomedian()} returns the geometric median
\item \code{geosd()} returns the geometric standard deviation
\item \code{geoquantile()} return the geometric quantiles
}
}
\details{
Each function takes a vector of non-negative numbers, log-transforms the numbers, finds the statistic for the numbers and then transforms the result back to the normal scale. Zero and negative numbers must be changed to positive numbers. This can be handled using the 'threshold'. The defalut for threshold is 1, which when log-transformed becomes zero. \code{\link[=geoquantile]{geoquantile()}} requires both a vector of probabilities and the quantile method type. See \code{\link[=quantile]{quantile()}} for details on methods specified by type. \code{\link[=geomedian]{geomedian()}} is a wrapper for \link{geoquantile(x, probs = 0.5, type = 2)}.
}
\section{Functions}{
\itemize{
\item \code{geomean}: Mean for Log-transformed Data

\item \code{geoquantile}: Quantiles for Log-transformed Data

\item \code{geomedian}: Median for Log-transformed Data

\item \code{geosd}: Standard Deviation for Log-transformed Data
}}

\examples{
# Linear and Exponential Data
x <- 1:20
y <- exp(x)

Arithemetic mean and geometric mean
geomean(x)
mean(x)

geomean(y)
mean(y)

# Data with zero and negative values
x[c(2, 10, 15)] <- NA
x[c(4, 12, 17)] <- -1*x[c(4, 12, 17)]
x[7] <- 0
x[1] <- 0.2

#The default is for 'NA' to be removed and a threshold is set at 1 to transform any values below 1 to 1.
geosd(x, na.rm = TRUE, threshold = 1)
#The threshold can be removed by setting it to 'NULL'. This will generate an error if there are any zero or negative values.
\dontrun{geomedian(x, na.rm = FALSE)}
\dontrun{geomean(x, threshold = NULL)}
geomean(x, threshold = 0.1, verbose = TRUE)

geoquantile(x <- rnorm(1001)) # Extremes & Quartiles by default
geoquantile(x,  probs = c(0.1, 0.5, 1, 2, 5, 10, 50, NA)/100)
geoquantile(x, type = 9)

}
\seealso{
\code{\link[base:mean]{mean}}, \code{\link[base:median]{median}}, \code{\link[base:quantile]{quantile}}, \code{\link[base:sd]{sd}}, for the related arithmetic functions
}
